{
    "global": {
        "waveforms_buffer_max_size": 4096,
        "waveforms_buffer_max_size_note1": "This value is in number of waveforms in the buffer",
        "waveforms_buffer_max_size_note2": "It is not a strict threshold, if more are available in the readout they are not discarded.",
        "waveforms_buffer_max_size_note3": "If too big, the following analysis steps might slow down",
        "waveforms_buffer_max_size_note4": "If too small, then the overhead might be too much",
        "waveforms_buffer_max_size_note5": "Waveform minimum dimension: 14 B (header) + 2 B * samples_number",
        "zzz": null
    },
    "cards": [
        {
            "id": 0,
            "model": "ADQ36",
            "serial": "SPD-11323",
            "enable": true,
            "native_note1": "by adding a 'native' entry it is possible to directly use a digitizer configuration, in that case the ABCD configuration will be done first and then this one will be applied",
            "native_note2": "WARNING: use it at your own risk",
            "JRC_custom_firmware": {
                "notes": "These settings are relative to the custom-firmare made by SP Devices for JRC-Geel",
                "enable": false,
                "pulse_length": 100,
                "pulse_length_note": "Length of the output trigger pulse, maybe in samples",
                "mode": 0,
                "mode_possible_value0": "Set to 0 generate pulse on SYNC if incoming pulse on TRIG",
                "mode_possible_value1": "Set to 1, as in mode 0 but generates also a pulse also if a record is created on any channel",
                "zzz": null
            },
            "clock": {
                "source": "internal",
                "source_possible_value0": "internal",
                "source_possible_value2": "external",
                "source_possible_value3": "external_PXIsync",
                "source_possible_value3_note": "This uses a 10 MHz clock, so set the frequency accordingly",
                "source_possible_value4": "external_PXIe_100MHz",
		"reference_frequency": 1e7
	    },
            "timestamp_bit_shift": 4,
            "timestamp_bit_shift_note1": "the timestamp may be shifted in order to align it with the waan analysis module",
            "timestamp_bit_shift_note2": "with a shift of 0 bit the timestamps should have 4 fractional bits, generated by the digitizer itself",
            "timestamp_bit_shift_note3": "1 / (2.5 GHz * 16) = 0.4 ns / 16 = 25 ps",
            "timestamp_bit_shift_note4": "with a shift of 4 bit the timestamps should have 8 fractional bits",
            "timestamp_bit_shift_note5": "1 / (2.5 GHz * 256) = 0.4 ns / 256 = 1.5625 ps",
            "channels": [
                {
                    "id": 0,
                    "enable": true,
                    "DC_offset": 0,
                    "DC_offset_note": "in mV units",
                    "DBS_enable": true,
                    "DBS_level": 0,
                    "DBS_level_note": "in ADC channels",
                    "skip_factor": 1,
                    "skip_factor_note": "ratio between the real ADC sampling rate and the desired sampling rate, by discarding samples",
                    "trigger_source": "self",
                    "trigger_source_possible_value0": "software",
                    "trigger_source_possible_value1": "self",
                    "trigger_source_possible_value2": "trig_port",
                    "trigger_source_possible_value3": "sync_port",
                    "trigger_level": -200,
                    "trigger_level_note": "relative to the baseline of the signal, in ADC channels",
                    "trigger_hysteresis": 30,
                    "trigger_hysteresis_note": "in ADC channels",
                    "trigger_slope": "falling",
                    "trigger_slope_possible_value1": "rising",
                    "trigger_slope_possible_value2": "falling",
                    "pretrigger": 128,
                    "pretrigger_note": "it must be a multiple of 8",
                    "scope_samples": 1024,
                    "scope_samples_note": "minimum value 32",
                    "records_per_buffer": 100,
                    "records_per_buffer_note": "This should roughly match the expected rate",
                    "zzz": null
                },
                {
                    "id": 1,
                    "enable": false,
                    "DC_offset": 0,
                    "DBS_enable": true,
                    "DBS_level": 0,
                    "skip_factor": 1,
                    "trigger_source": "self",
                    "trigger_level": -200,
                    "trigger_hysteresis": 30,
                    "trigger_slope": "falling",
                    "pretrigger": 128,
                    "scope_samples": 1024,
                    "records_per_buffer": 100,
                    "zzz": null
                },
                {
                    "id": 2,
                    "enable": false,
                    "DC_offset": 0,
                    "DBS_enable": true,
                    "DBS_level": 0,
                    "skip_factor": 1,
                    "trigger_source": "self",
                    "trigger_level": -200,
                    "trigger_hysteresis": 30,
                    "trigger_slope": "falling",
                    "pretrigger": 128,
                    "scope_samples": 1024,
                    "records_per_buffer": 100,
                    "zzz": null
                },
                {
                    "id": 3,
                    "enable": false,
                    "DC_offset": 0,
                    "DBS_enable": true,
                    "DBS_level": 0,
                    "skip_factor": 1,
                    "trigger_source": "self",
                    "trigger_level": -200,
                    "trigger_hysteresis": 30,
                    "trigger_slope": "falling",
                    "pretrigger": 128,
                    "scope_samples": 1024,
                    "records_per_buffer": 100,
                    "zzz": null
                },
                {}
            ],
            "ports": [
                {
                    "id": "trig",
                    "input_impedance": "50_Ohm",
                    "input_impedance_possible_value0": "50_Ohm",
                    "input_impedance_possible_value1": "high",
                    "input_impedance_possible_value2": "100_Ohm",
                    "direction": "in",
                    "direction_possible_value0": "in",
                    "direction_possible_value1": "out",
                    "function": "invalid",
                    "function_possible_value0": "invalid",
                    "function_possible_value1": "gpio",
                    "function_possible_value2": "daisy_chain",
                    "function_possible_value3": "user_logic"
                },
                {
                    "id": "sync",
                    "input_impedance": "high",
                    "direction": "out",
                    "function": "gpio"
                },
                {}
            ]
        },
        {}
    ],
    "scripts": [
        {
            "enable": true,
            "state": [203, 204],
            "when": "pre",
            "when_possible_value0": "pre",
            "when_possible_value1": "post",
            "source": "print(\"LUA MESSAGE: Either start or stop of acquisition!!!\")",
            "source_note": "This can be a file name or the actual script as a string",
            "zzz": null
        },
        {
            "enable": true,
            "state": [108, 406],
            "state_note": "This will run in the configuration state",
            "when": "post",
            "source": "./scripts/display_digitizers.lua",
            "source_note1": "If using a file name as the script source, make sure that it is accessible by absp.",
            "source_note2": "If the script file is not accessible, this string will be treated as the script itself.",
            "zzz": null
        },
        {}
    ],
    "zzz": null
}
