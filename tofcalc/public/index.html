<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="shared/Fira/fira.css">
        <link rel="stylesheet" href="shared/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="shared/css/main.css">

        <title>ABCD ToF calculator</title>
    </head>
    <body>
        <h1>Acquisition and Broadcast of Collected Data</h1>
        <h2>On-line Time of Flight calculator</h2>
        <div class="display" id="connections_displays">
            <h3>Connection displays</h3>
            <ul>
                <li>
                    <div><h3>GUI</h3> - Graphical user interface module</div>
                    <div id="gui_connection_status" class="unknown_status">No connection</div>
                </li>
                <li>
                    <div><h3>ToFcalc</h3> - Time of Flight calculations module</div>
                    <div id="tofcalc_connection_status" class="unknown_status">No connection</div>
                </li>
            </ul>
        </div>
        <div class="display">
            <h3>Plot displays</h3>
            <div>
                <fieldset>
                    <legend>Global Plot commands</legend>
                    <label>Select channel: <select name="channel" id="channel_select"></select></label>
                </fieldset>
            </div>
            <div>
                <fieldset>
                    <legend>ToF plot (calibrated)</legend>
                    <label>ToF y-scale:
                        <select name="ToF_yscale" id="ToF_yscale">
                            <option value="linear" selected="selected">Linear</option>
                            <option value="logarithmic">Logarithmic</option>
                        </select>
                    </label>

                    <button id="ToF_plot_download_image">Save ToF image</button>
                    <button id="ToF_plot_download_data">Download ToF data</button>
                </fieldset>

                <svg id="ToF_plot" width="1024" height="576"></svg>
            </div>
            <div>
                <fieldset>
                    <legend>Energy plot (not calibrated)</legend>
                    <label>Energy y-scale:
                        <select name="spectrum_yscale" id="spectrum_yscale">
                            <option value="linear" selected="selected">Linear</option>
                            <option value="logarithmic">Logarithmic</option>
                        </select>
                    </label>

                    <button id="E_plot_download_image">Save energy image</button>
                    <button id="E_plot_download_data">Download energy data</button>
                </fieldset>

                <svg id="E_plot" width="1024" height="576"></svg>
            </div>
            <div>
                <fieldset>
                    <legend>Energy vs ToF plot</legend>
                    <label>E vs. ToF color-scale:
                        <select name="EToF_colors_scale" id="EToF_colors_scale">
                            <option value="linear">Linear</option>
                            <option value="logarithmic" selected="selected">Logarithmic</option>
                        </select>
                    </label>
                </fieldset>

                <div id="EToF_plot"></div>
            </div>
        </div>
        <div class="display">
            <h3>Channels rates</h3>
            <div>
                <ul id="ToF_rates"></ul>
            </div>
        </div>
        <div class="display">
            <h3>Commands</h3>
            <div>
                <button id="tofcalc_reconfigure">Send configuration</button>
                <button id="tofcalc_reset_channel">Reset channel</button>
                <button id="tofcalc_reset_all">Reset all</button>
            </div>
            <h3>Status</h3>
            <div id="tofcalc_general_status">
            </div>
        </div>
        <div class="display">
            <h3>Events log<span id="errorlog_tofcalc_n"></span></h3>
            <div>
                <ol id="errorlog_tofcalc"></ol>
            </div>
        </div>
        <div class="display">
            <h3>GUI Status</h3>
            <div id="gui_general_status"></div>
        </div>
        <div class="display">
            <h3>GUI Settings</h3>
            <div>
                <label>
                    Plot refresh time [s]: <input type="number" id="plot_refresh_time" value="3">
                </label><br>
                <label>
                    Expiration time [s]: <input type="number" id="expiration_time" value="6">
                </label><br>
            </div>
        </div>


        <!-- Having the scripts on the bottom tricks the user in thinking that the page loads faster -->
        <script src="shared/js/d3.js" charset="utf-8"></script>
        <script src="shared/js/lodash.min.js"></script>
        <script src="shared/js/jquery.min.js"></script>
        <!--<script src="js/socket.io.min.js"></script>-->
        <script src="/socket.io/socket.io.js"></script>
        <script src="shared/js/moment-with-locales.min.js"></script>
        <script src="shared/js/humanize-duration.js"></script>

        <script src="shared/js/utilities.js"></script>
        <script src="shared/js/histogram_painter.js"></script>
        <script src="shared/js/histogram2D_painter.js"></script>
        <script src="js/commands.js"></script>
        <script src="js/plots.js"></script>
        <script src="js/events.js"></script>
        <script src="js/statuses.js"></script>
        <script src="js/main.js"></script>
    </body>
</html>
